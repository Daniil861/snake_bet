(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.addEventListener("load",(function(){document.querySelector("body")&&setTimeout((function(){document.querySelector("body").classList.add("_loaded")}),200)})),sessionStorage.getItem("preloader")&&(document.querySelector(".preloader")&&document.querySelector(".preloader").classList.add("_hide"),document.querySelector(".wrapper").classList.add("_visible")),sessionStorage.getItem("money")||sessionStorage.setItem("money",1e4),document.querySelector(".check")&&document.querySelectorAll(".check").forEach((e=>{e.textContent=sessionStorage.getItem("money")})),document.querySelector(".game")&&(+sessionStorage.getItem("money")>=100?(document.querySelector(".block-bet__coins").textContent=100,sessionStorage.setItem("current-bet",100)):(document.querySelector(".block-bet__coins").textContent=0,sessionStorage.setItem("current-bet",0)));const t=document.querySelector(".preloader"),o=document.querySelector(".wrapper");function r(e,t){let o=+sessionStorage.getItem("money");sessionStorage.setItem("money",o-e),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.add("_delete-money"))),document.querySelectorAll(t).forEach((e=>e.textContent=sessionStorage.getItem("money")))}),500),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_delete-money")))}),1500)}function n(e){document.querySelectorAll(e).forEach((e=>e.classList.add("_no-money"))),setTimeout((()=>{document.querySelectorAll(e).forEach((e=>e.classList.remove("_no-money")))}),1e3)}function c(e,t){return Math.floor(Math.random()*(t-e)+e)}let s=document.querySelectorAll(".icon-anim img");function u(e){e.classList.add("_active"),function(){let e=sessionStorage.getItem("current-chip"),t=document.createElement("img");t.setAttribute("src",`img/icons/chip-${e}.png`),t.setAttribute("alt","Icon"),document.querySelector(".rules__image").append(t)}(),setTimeout((()=>{document.querySelector(".main__bg").classList.add("_rules"),document.querySelector(".main__body").classList.add("_hide"),document.querySelector(".rules").classList.add("_active")}),1e3)}document.querySelector(".icon-anim img")&&setInterval((()=>{!function(){let e=c(0,3),t=["jump","scale","rotate"],o=c(0,s.length);s.forEach((e=>{e.classList.contains("_anim-icon-jump")?e.classList.remove("_anim-icon-jump"):e.classList.contains("_anim-icon-scale")?e.classList.remove("_anim-icon-scale"):e.classList.contains("_anim-icon-rotate")&&e.classList.remove("_anim-icon-rotate")})),setTimeout((()=>{s[o].classList.add(`_anim-icon-${t[e]}`)}),100)}()}),1e4),document.querySelector(".main__body")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main__body").classList.add("_active");const i={program:1,item_left:0,item_top:0,cub_top:0,cub_left:0,height_chip:37,number_cub:0,current_number_dot:1,current_position_dot:1,current_bonus:0,hold:!1,hold_enemy:!1};document.querySelector(".game")&&h();const m={current_number_dot:1,current_position_dot:1,hold:!1,hold_enemy:!1};function l(){!function(){document.querySelector(".item-game__cub img").remove();let e=document.createElement("img");i.number_cub=c(1,7),1==i.program?i.current_number_dot+i.number_cub>33?i.current_number_dot=33:i.current_number_dot=i.current_number_dot+i.number_cub:2==i.program&&(m.current_number_dot+i.number_cub>33?m.current_number_dot=33:m.current_number_dot=m.current_number_dot+i.number_cub);e.setAttribute("src",`img/icons/cub-${i.number_cub}.png`),document.querySelector(".item-game__cub").append(e),6==i.number_cub&&setTimeout((()=>{document.querySelector(".info-game__text").textContent="6 fell out. Plus one more move",g()}),1e3)}(),i.cub_top=`${c(15,55)}%`,i.cub_left=`${c(0,75)}%`,document.querySelector(".item-game__cub").style.top=i.cub_top,document.querySelector(".item-game__cub").style.left=i.cub_left,document.querySelector(".item-game__cub").style.transform="rotate(0deg)",setTimeout((()=>{document.querySelector(".item-game__cub").style.top="0%",document.querySelector(".item-game__cub").style.left="-10%",document.querySelector(".item-game__cub").style.transform="rotate(-360deg)"}),2500)}function _(){L(".block-bet","_hold");let e="";if(1==i.program?e=i:2==i.program&&(e=m),1==e.current_position_dot){if(a(2),e.current_position_dot=2,e.current_number_dot==e.current_position_dot)return b(),!1;d()}else if(e.current_position_dot>1&&e.current_position_dot<33){let t=e.current_position_dot;if(a(t+1),e.current_position_dot=t+1,e.current_number_dot==e.current_position_dot)return b(),!1;d()}}function a(e){let t="";1==i.program?t=sessionStorage.getItem("current-chip"):2==i.program&&(t=sessionStorage.getItem("bots-chip")),function(e){const t=e,o=window.getComputedStyle(t);i.item_left=parseInt(o.left,10)-10,i.item_top=parseInt(o.top,10)-30}(document.querySelector(`.field__pin_${e}`)),setTimeout((()=>{document.querySelector(`.field__chip_${t}`).style.top=`${i.item_top}px`,document.querySelector(`.field__chip_${t}`).style.left=`${i.item_left}px`,i.current_number_dot==m.current_position_dot&&(document.querySelector(`.field__chip_${t}`).style.top=i.item_top-2+"px",document.querySelector(`.field__chip_${t}`).style.left=`${i.item_left+5}px`)}),500)}function d(){let e="";1==i.program?e=i:2==i.program&&(e=m),setTimeout((()=>{let t=e.current_position_dot;return a(t+1),e.current_position_dot=t+1,e.current_number_dot==e.current_position_dot?(setTimeout((()=>{b()}),1e3),!1):d()}),1e3)}function b(){let e="";1==i.program?e=i:2==i.program&&(e=m);let t=e.current_number_dot;if(2==t||3==t||4==t||10==t||13==t||15==t||18==t||19==t||24==t||26==t||28==t||29==t||31==t)p(.1);else if(5==t)p(1);else if(12==t)p(1.5);else if(16==t)p(2.2);else if(20==t)p(3.2);else if(25==t)p(3.8);else if(33==t){if(p(50),1==i.program)return p(50),document.querySelector(".win__text").textContent=i.current_bonus,setTimeout((()=>{document.querySelector(".win").classList.add("_active"),i.program}),1500),!1;2==i.program&&(r(i.current_bonus,".check"),setTimeout((()=>{document.querySelector(".loose").classList.add("_active")}),1500))}else 6==t||11==t||17==t||22==t?(document.querySelector(".info-game__text").textContent="You drowned. Go back to the start",g(),setTimeout((()=>{e.current_number_dot=1;let t=e.current_number_dot;a(t),e.current_position_dot=t,y()}),1e3)):7==t||21==t||32==t?(document.querySelector(".info-game__text").textContent="The enemy got into quicksand. Skipping a move",g(),1==i.program?I(".button-balance__body","_hold"):2==i.program&&setTimeout((()=>{l(),setTimeout((()=>{_()}),500)}),1e3)):9==t||23==t||30==t?(document.querySelector(".info-game__text").textContent="You have fallen into a trap. Skip the move",g(),function(){let e="",t="";1==i.program?(e=i,t=m):2==i.program&&(e=m,t=i),e.hold=!0,t.hold_enemy=!0}(),y()):8!=t&&14!=t&&27!=t||(document.querySelector(".info-game__text").textContent="You are entangled in the thicket, take 2 steps back",g(),setTimeout((()=>{e.current_number_dot=e.current_number_dot-2;let t=e.current_number_dot;a(t),e.current_position_dot=t,setTimeout((()=>{b()}),1e3)}),1e3))}function g(){document.querySelector(".info-game").classList.add("_active"),setTimeout((()=>{document.querySelector(".info-game").classList.remove("_active")}),4e3)}function p(e){if(1==i.program){let t=+sessionStorage.getItem("current-bet")*e;!function(e,t,o,r){setTimeout((()=>{document.querySelectorAll(t).forEach((t=>t.textContent=+sessionStorage.getItem("money")+e)),document.querySelectorAll(t).forEach((e=>e.classList.add("_anim-add-money"))),sessionStorage.setItem("money",+sessionStorage.getItem("money")+e)}),o),setTimeout((()=>{document.querySelectorAll(t).forEach((e=>e.classList.remove("_anim-add-money")))}),r)}(t,".check",1e3,2e3),i.current_bonus+=t}y()}function y(){let e="";if(1==i.program?e=i:2==i.program&&(e=m),1==i.program){if(6==i.number_cub&&0==i.hold||i.hold_enemy)return setTimeout((()=>{I(".button-balance__body","_hold")}),2e3),i.hold_enemy&&(i.hold_enemy=!1),!1;6==i.number_cub&&e.hold,setTimeout((()=>{I(".button-balance__body","_hold"),S()}),2e3)}else 2==i.program&&(6==i.number_cub&&0==i.hold||m.hold_enemy?setTimeout((()=>{l(),setTimeout((()=>{_()}),500),m.hold_enemy&&(m.hold_enemy=!1)}),1e3):(6==m.number_cub&&m.hold,setTimeout((()=>{f()}),1e3)))}function S(){if(33==i.current_number_dot)return!1;i.program=2,h(),q(),setTimeout((()=>{l()}),1500),setTimeout((()=>{_()}),2500)}function f(){i.program=1,h(),q()}function h(){document.querySelector(".chip-game__circle img")&&document.querySelector(".chip-game__circle img").remove();let e=document.createElement("img");1==i.program?(e.setAttribute("src",`img/icons/chip-${sessionStorage.getItem("current-chip")}.png`),document.querySelector(".chip-game__info").textContent="You’r move",q()):2==i.program&&(e.setAttribute("src",`img/icons/chip-${sessionStorage.getItem("bots-chip")}.png`),document.querySelector(".chip-game__info").textContent="Bot’s move",q()),document.querySelector(".chip-game__circle").append(e)}function q(){1==i.program?document.querySelector(".button-balance__body").classList.contains("_bot")&&document.querySelector(".button-balance__body").classList.remove("_bot"):2==i.program&&document.querySelector(".button-balance__body").classList.add("_bot")}function L(e,t){document.querySelector(e).classList.add(t)}function I(e,t){document.querySelector(e).classList.contains(t)&&document.querySelector(e).classList.remove(t)}document.addEventListener("click",(e=>{let c=e.target;if(c.closest(".preloader__button")&&(sessionStorage.setItem("preloader",!0),t.classList.add("_hide"),o.classList.add("_visible"),document.querySelector(".main__body")&&document.querySelector(".preloader").classList.contains("_hide")&&document.querySelector(".main__body").classList.add("_active")),c.closest(".block-bet__minus")){let e=+sessionStorage.getItem("current-bet");e>=50&&(sessionStorage.setItem("current-bet",e-50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet"))}if(c.closest(".block-bet__plus")){let e=+sessionStorage.getItem("current-bet");+sessionStorage.getItem("money")-49>e?(sessionStorage.setItem("current-bet",e+50),document.querySelector(".block-bet__coins").textContent=sessionStorage.getItem("current-bet")):n(".check")}c.closest(".chips-main__button-blue")&&(sessionStorage.setItem("current-chip","blue"),sessionStorage.setItem("bots-chip","green"),u(c.closest(".chips-main__item"))),c.closest(".chips-main__button-green")&&(sessionStorage.setItem("current-chip","green"),sessionStorage.setItem("bots-chip","blue"),u(c.closest(".chips-main__item"))),c.closest(".button-balance__body")&&(+sessionStorage.getItem("money")>+sessionStorage.getItem("current-bet")?(L(".button-balance__body","_hold"),l(),setTimeout((()=>{_()}),500),r(+sessionStorage.getItem("current-bet"),".check")):n(".check")),(c.closest(".win__button")||c.closest(".loose__button"))&&(i.current_number_dot=1,i.current_position_dot=1,m.current_number_dot=1,m.current_position_dot=1,i.current_bonus=0,document.querySelector(".field__chip_green").style.left="72px",document.querySelector(".field__chip_green").style.bottom="20px",document.querySelector(".field__chip_blue").style.left="52px",document.querySelector(".field__chip_blue").style.bottom="20px",document.querySelector(".win").classList.contains("_active")?document.querySelector(".win").classList.remove("_active"):document.querySelector(".loose").classList.remove("_active"))})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();